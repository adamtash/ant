{
  "workspaceDir": ".",
  "providers": {
    "default": "copilot",
    "items": {
      "lmstudio": {
        "type": "openai",
        "baseUrl": "http://localhost:1234/v1",
        "model": "local-model",
        "embeddingsModel": "text-embedding-nomic-embed-text-v1.5"
      },
      "codex": {
        "type": "cli",
        "cliProvider": "codex",
        "model": "gpt-5.2-codex",
        "args": [
          "exec",
          "--skip-git-repo-check",
          "--add-dir",
          "~/",
          "--full-auto",
          "-"
        ]
      },
      "copilot": {
        "type": "cli",
        "cliProvider": "copilot",
        "model": "gpt-5-mini",
        "args": [
          "--yolo",
          "--model",
          "gpt-5-mini",
          "--no-ask-user",
          "--silent"
        ]
      },
      "kimi": {
        "type": "cli",
        "cliProvider": "kimi",
        "model": "kimi-k2",
        "command": "kimi",
        "args": [
          "--yolo"
        ],
        "timeoutMs": 1200000
      }
    },
    "fallbackChain": [
      "copilot",
      "kimi"
    ],
    "discovery": {
      "enabled": true,
      "researchIntervalHours": 24,
      "healthCheckIntervalMinutes": 120,
      "minBackupProviders": 1,
      "minCandidates": 1,
      "logMode": "daily-rollup",
      "trustSources": []
    },
    "local": {
      "enabled": true,
      "preferFastModels": false,
      "autoDownloadModels": false,
      "ollama": {
        "enabled": false,
        "endpoint": "http://localhost:11434",
        "fastModels": [
          "nvidia/nemotron-3-nano",
          "qwen2.5:0.5b",
          "phi3:mini",
          "gemma2:2b"
        ]
      },
      "lmstudio": {
        "enabled": true,
        "endpoint": "http://localhost:1234/v1",
        "fastModels": [
          "zai-org/glm-4.7-flash",
          "openai/gpt-oss-20b",
          "nvidia/nemotron-3-nano"
        ]
      }
    }
  },
  "routing": {
    "chat": "copilot",
    "tools": "copilot",
    "embeddings": "lmstudio",
    "parentForCli": "copilot"
  },
  "ui": {
    "enabled": true,
    "host": "127.0.0.1",
    "port": 5117,
    "autoOpen": true,
    "openUrl": "http://127.0.0.1:5117",
    "staticDir": "ui/dist"
  },
  "telegram": {
    "enabled": true,
    "botToken": "",
    "mode": "polling",
    "dmPolicy": "pairing"
  },
  "whatsapp": {
    "sessionDir": ".ant/whatsapp",
    "respondToGroups": false,
    "mentionOnly": true,
    "botName": "ant",
    "respondToSelfOnly": true,
    "allowSelfMessages": true,
    "resetOnLogout": true,
    "typingIndicator": true,
    "mentionKeywords": [
      "ant"
    ],
    "ownerJids": []
  },
  "memory": {
    "enabled": true,
    "indexSessions": true,
    "retentionDays": 30,
    "sqlitePath": ".ant/memory.sqlite",
    "embeddingsModel": "text-embedding-nomic-embed-text-v1.5",
    "sessions": {
      "includeRoles": ["user", "assistant"],
      "maxMessages": 1000,
      "maxBytes": 2000000,
      "minChars": 4,
      "excludePatterns": [
        "^\\s*Tool result:",
        "^\\s*System:",
        "^\\s*Tool call:",
        "^\\s*\\[Old tool result content cleared\\]"
      ]
    }
  },
  "agent": {
    "systemPrompt": "",
    "maxToolIterations": 500,
    "maxHistoryTokens": 20000,
    "toolLoop": {
      "timeoutPerIterationMs": 1200000
    }
  },
  "subagents": {
    "enabled": true
  },
  "cliTools": {
    "enabled": true,
    "allowToolCalls": true,
    "timeoutMs": 1200000,
    "providers": {
      "codex": {
        "command": "codex",
        "args": [
          "--skip-git-repo-check",
          "--add-dir",
          "~/",
          "--full-auto"
        ]
      },
      "copilot": {
        "command": "copilot",
        "args": [
          "--yolo",
          "--model",
          "gpt-5-mini",
          "--no-ask-user",
          "--silent"
        ]
      },
      "claude": {
        "command": "claude",
        "args": [
          "--no-color"
        ]
      },
      "kimi": {
        "command": "kimi",
        "args": [
          "--yolo"
        ]
      }
    }
  },
  "scheduler": {
    "enabled": true,
    "storePath": ".ant/jobs.json",
    "timezone": "UTC"
  },
  "monitoring": {
    "enabled": true,
    "retentionDays": 30,
    "alertChannels": [
      "whatsapp"
    ],
    "criticalErrorThreshold": 5
  },
  "gateway": {
    "enabled": true,
    "port": 18789,
    "host": "127.0.0.1"
  },
  "logging": {
    "level": "warn",
    "fileLevel": "trace",
    "filePath": ".ant/ant.log"
  },
  "mainAgent": {
    "enabled": true,
    "intervalMs": 300000,
    "errorScanIntervalMs": 30000,
    "notifySessions": [],
    "notifyOn": {
      "errors": true,
      "incidentResults": true,
      "providers": true,
      "improvements": true
    },
    "dutiesFile": "AGENT_DUTIES.md",
    "logFile": ".ant/AGENT_LOG.md"
  },
  "runtime": {
    "mode": "split",
    "supervisor": {
      "enabled": true,
      "restartDelayMs": 1000,
      "maxRestarts": 10,
      "restartWindowMs": 60000
    },
    "worker": {
      "heartbeatPath": ".ant/heartbeat.worker",
      "heartbeatIntervalMs": 5000,
      "maxHeartbeatAgeMs": 20000,
      "requestTimeoutMs": 300000
    },
    "selfBuild": {
      "enabled": true,
      "maxFixAttempts": 1,
      "notifyOwnersOnFailure": true,
      "commands": {
        "build": "npm run build",
        "uiBuild": "npm run ui:build",
        "typecheck": "npm run typecheck",
        "test": "npm test",
        "diagnostics": "ant diagnostics test-all"
      }
    },
    "restart": {
      "command": "npm",
      "args": [
        "run",
        "dev",
        "--",
        "run"
      ]
    }
  }
}
